
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
     <link rel="manifest" href="manifest.webmanifest">
    <meta name="viewport" content=
            "width=device-width, initial-scale=1.0">
            <meta name="author" content="james">
      <meta name="description" content="fun demo">
      <meta data-react-helmet="true" name="theme-color" content="#000">
      <meta content="/icon.png" name="twitter:image">
      <meta content="/icon.png" property="og:image">
      <meta content="/icon.png" property="og:image:secure_url">
       <link rel="icon" type="image/x-icon" href="favicon.ico">
           <link rel="apple-touch-icon" sizes="180x180" href="apple.png">
    <title>
        Draw Demo
    </title>
      
    <style>
      html, body {
    margin: 0;
    touch-action: none;
}
    </style>
</head>
  
<body>
    <canvas id="canvas" style="background-color:black;display: block;touch-action: none"></canvas>
    <script>
    if ('serviceWorker' in navigator) {
  window.addEventListener('load', () => {
    navigator.serviceWorker.register('sw.js')
      .then(reg => {
        console.log('yay', reg)
      }).catch(err => {
        console.log('gosh darn it!')
      })
  })
}
    </script>
<script>
// wait for the content of the window element
// to load, then performs the operations.
// This is considered best practice.
window.addEventListener('load', ()=>{
        
    resize(); // Resizes the canvas once the window loads
    document.addEventListener('mousedown', startPainting);
    document.addEventListener('mouseup', stopPainting);
    document.addEventListener('mousemove', sketch);
  canvas.addEventListener('touchstart', startPainting);
canvas.addEventListener('touchmove', sketch);
canvas.addEventListener('touchend', stopPainting);
    window.addEventListener('resize', resize);
});
 setInterval(function () {ctx.fillStyle = "#0002";ctx.fillRect(0, 0, canvas.width, canvas.height)}, 100);   
const canvas = document.querySelector('#canvas');
   
// Context for the canvas for 2 dimensional operations
const ctx = canvas.getContext('2d');
    
// Resizes the canvas to the available size of the window.
function resize(){
  ctx.canvas.width = window.innerWidth;
  ctx.canvas.height = window.innerHeight;
}
    
// Stores the initial position of the cursor
let coord = {x:0 , y:0}; 
   
// This is the flag that we are going to use to 
// trigger drawing
let paint = false;
    
// Updates the coordianates of the cursor when 
// an event e is triggered to the coordinates where 
// the said event is triggered.
function getPosition(event){
  coord.x = (event.clientX || event.touches[0].clientX) - canvas.offsetLeft;
  coord.y = (event.clientY || event.touches[0].clientY)- canvas.offsetTop;
}
  
// The following functions toggle the flag to start
// and stop drawing
function startPainting(event){
  paint = true;
  getPosition(event);
}
function stopPainting(){
  paint = false;
}
    
function sketch(event){
  if (!paint) return;
  ctx.beginPath();
    
  ctx.lineWidth = 30;
   
  // Sets the end of the lines drawn
  // to a round shape.
  ctx.lineCap = 'round';
    
  ctx.strokeStyle = 'red';
      
  // The cursor to start drawing
  // moves to this coordinate
  ctx.moveTo(coord.x, coord.y);
   
  // The position of the cursor
  // gets updated as we move the
  // mouse around.
  getPosition(event);
   
  // A line is traced from start
  // coordinate to this coordinate
  ctx.lineTo(coord.x , coord.y);
    
  // Draws the line.
  ctx.stroke();
  
}
</script>
</body>
  
</html>
